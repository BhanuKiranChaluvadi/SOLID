cmake_minimum_required(VERSION 3.10)

project(rapidjson-download NONE)

include(ExternalProject)

ExternalProject_Add(rapidjson
  URL               https://github.com/Tencent/rapidjson/archive/refs/tags/v1.1.0.tar.gz
  SOURCE_DIR        "${CMAKE_CURRENT_BINARY_DIR}/rapidjson-src"
  BINARY_DIR        "${CMAKE_CURRENT_BINARY_DIR}/rapidjson-build"
  TIMEOUT           10
  CMAKE_ARGS        -DCMAKE_BUILD_TYPE=Release
                    -DRAPIDJSON_BUILD_DOC=OFF
                    -DRAPIDJSON_BUILD_EXAMPLES=OFF 
                    -DRAPIDJSON_BUILD_TESTS=OFF
                    -DRAPIDJSON_BUILD_CXX17=ON
                    -DRAPIDJSON_HAS_STDSTRING=ON
  CONFIGURE_COMMAND ""
  BUILD_COMMAND     ""
  INSTALL_COMMAND   ""
  TEST_COMMAND      ""
)

# Prepare RapidJSON (RapidJSON is a header-only library)
# ExternalProject_Get_Property(rapidjson source_dir)

# set(RapidJSON_INCLUDE_DIRS ${SOURCE_DIR}/include)